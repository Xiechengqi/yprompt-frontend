const s={image:{types:["image/jpeg","image/jpg","image/png","image/webp","image/gif","image/bmp","image/tiff","image/svg+xml","image/heic","image/heif","image/x-icon"],extensions:[".jpg",".jpeg",".png",".webp",".gif",".bmp",".tiff",".tif",".svg",".heic",".heif",".ico"],maxSize:20971520,icon:"üñºÔ∏è"},document:{types:["application/pdf","text/plain","text/markdown","text/csv","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/rtf","application/json","application/xml","text/xml","text/html","text/css","text/javascript","text/typescript","application/javascript","text/x-python","text/x-java","text/x-c","text/x-cpp","application/x-yaml","text/yaml"],extensions:[".pdf",".txt",".md",".csv",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".rtf",".json",".xml",".html",".htm",".css",".js",".ts",".jsx",".tsx",".py",".java",".c",".cpp",".h",".hpp",".yaml",".yml",".log",".ini",".cfg",".conf",".sh",".bat",".ps1",".sql",".go",".rs",".php",".rb",".swift",".kt",".scala",".r"],maxSize:26214400,icon:"üìÑ"},audio:{types:["audio/mpeg","audio/mp3","audio/wav","audio/ogg","audio/aac","audio/flac","audio/m4a","audio/x-ms-wma","audio/webm"],extensions:[".mp3",".wav",".ogg",".aac",".flac",".m4a",".wma",".webm"],maxSize:52428800,icon:"üéµ"},video:{types:["video/mp4","video/webm","video/ogg","video/x-msvideo","video/quicktime","video/x-ms-wmv","video/x-flv","video/x-matroska"],extensions:[".mp4",".webm",".ogv",".avi",".mov",".wmv",".flv",".mkv",".qt"],maxSize:104857600,icon:"üé¨"}},l=()=>Object.values(s).flatMap(t=>t.extensions),c=t=>{var o;const e="."+((o=t.split(".").pop())==null?void 0:o.toLowerCase());for(const[a,i]of Object.entries(s))if(i.extensions.includes(e))return a;return null},x=t=>{var a;const e="."+((a=t.split(".").pop())==null?void 0:a.toLowerCase());return{".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".gif":"image/gif",".webp":"image/webp",".bmp":"image/bmp",".tiff":"image/tiff",".tif":"image/tiff",".svg":"image/svg+xml",".heic":"image/heic",".heif":"image/heif",".ico":"image/x-icon",".pdf":"application/pdf",".txt":"text/plain",".md":"text/markdown",".csv":"text/csv",".doc":"application/msword",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".xls":"application/vnd.ms-excel",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".ppt":"application/vnd.ms-powerpoint",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".rtf":"application/rtf",".json":"application/json",".xml":"application/xml",".html":"text/html",".htm":"text/html",".css":"text/css",".js":"text/javascript",".ts":"text/typescript",".py":"text/x-python",".java":"text/x-java",".c":"text/x-c",".cpp":"text/x-cpp",".h":"text/x-c",".hpp":"text/x-cpp",".yaml":"application/x-yaml",".yml":"application/x-yaml",".log":"text/plain",".ini":"text/plain",".cfg":"text/plain",".conf":"text/plain",".mp3":"audio/mpeg",".wav":"audio/wav",".ogg":"audio/ogg",".aac":"audio/aac",".flac":"audio/flac",".m4a":"audio/m4a",".wma":"audio/x-ms-wma",".mp4":"video/mp4",".webm":"video/webm",".ogv":"video/ogg",".avi":"video/x-msvideo",".mov":"video/quicktime",".wmv":"video/x-ms-wmv",".flv":"video/x-flv",".mkv":"video/x-matroska",".qt":"video/quicktime"}[e]||"application/octet-stream"},p=(t,e)=>{for(const[o,a]of Object.entries(s))if(a.types.includes(t))return o;return e||(t==="application/octet-stream"||t===""||!t)&&e?c(e):null},d=t=>{if(t===0)return"0 B";const e=1024,o=["B","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,a)).toFixed(1))+" "+o[a]},g=t=>p(t.type,t.name)?{valid:!0}:{valid:!1,error:`‰∏çÊîØÊåÅÁöÑÊñá‰ª∂Á±ªÂûã„ÄÇÊîØÊåÅÁöÑÊ†ºÂºèÔºö${l().join(", ")}`},f=t=>{const e=p(t.type,t.name);if(!e)return{valid:!1,error:"Êú™Áü•ÁöÑÊñá‰ª∂Á±ªÂûã"};const o=s[e];return o?t.size>o.maxSize?{valid:!1,error:`Êñá‰ª∂ËøáÂ§ß„ÄÇÊúÄÂ§ßÊîØÊåÅ ${d(o.maxSize)}`}:{valid:!0}:{valid:!1,error:"Êú™Áü•ÁöÑÊñá‰ª∂Á±ªÂûãÈÖçÁΩÆ"}},v=t=>new Promise((e,o)=>{const a=new FileReader;a.onload=()=>{const n=a.result.split(",")[1];e(n)},a.onerror=()=>o(new Error("Êñá‰ª∂ËØªÂèñÂ§±Ë¥•")),a.readAsDataURL(t)}),u=async t=>{const e=x(t.name),o=e!=="application/octet-stream"?e:t.type,a={...t,type:o},i=g(a);if(!i.valid)throw new Error(i.error);const n=f(a);if(!n.valid)throw new Error(n.error);const r=await v(t),m=p(o,t.name);return{id:`attachment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:t.name,type:m,mimeType:o,size:t.size,data:r,url:URL.createObjectURL(t)}},w=async t=>{const e=[],o=[];for(const a of t)try{const i=await u(a);e.push(i)}catch(i){o.push(`${a.name}: ${i instanceof Error?i.message:"Â§ÑÁêÜÂ§±Ë¥•"}`)}return{attachments:e,errors:o}};export{s as FILE_CONFIG,u as createMessageAttachment,v as fileToBase64,d as formatFileSize,l as getAllSupportedExtensions,p as getFileTypeCategory,c as getFileTypeCategoryByExtension,x as getMimeTypeByExtension,w as processFiles,f as validateFileSize,g as validateFileType};
